var e=require("solid-js/web"),t=require("solid-js");const r=null,{min:n,max:o,abs:s,floor:i}=Math,l=(e,t,r)=>n(r,o(t,e)),c=e=>[...e].sort(((e,t)=>e-t)),u="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},a=()=>{let e;return[new Promise((t=>{e=t})),e]},f=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},d=(e,t,r)=>{const n=r?"unshift":"push";for(let r=0;r<t;r++)e[n](-1);return e},h=(e,t)=>{const r=e.o[t];return-1===r?e.i:r},g=(e,t,r)=>{const o=-1===e.o[t];return e.o[t]=r,e.l=n(t,e.l),o},v=(e,t)=>{if(!e.u)return 0;if(e.l>=t)return e.h[t];e.l<0&&(e.h[0]=0,e.l=0);let r=e.l,n=e.h[r];for(;r<t;)n+=h(e,r),e.h[++r]=n;return e.l=t,n},p=(e,t,r=0,n=e.u-1)=>{let o=r;for(;r<=n;){const s=i((r+n)/2);v(e,s)<=t?(o=s,r=s+1):n=s-1}return l(o,0,e.u-1)},m=(e,t,r)=>{const o=t-e.u;return e.l=r?-1:n(t-1,e.l),e.u=t,o>0?(d(e.h,o),d(e.o,o,r),e.i*o):(e.h.splice(o),(r?e.o.splice(0,-o):e.o.splice(o)).reduce(((t,r)=>t-(-1===r?e.i:r)),0))},S=e=>e.documentElement,$=e=>e.ownerDocument,b=e=>e.defaultView,x=/*#__PURE__*/f((()=>!!/iP(hone|od|ad)/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0)),z=/*#__PURE__*/f((()=>"scrollBehavior"in S(document).style)),w=(e,t=40,i=0,l,u=!1)=>{let a=!!i,f=1,S=0,$=0,b=0,z=0,w=0,y=0,_=0,I=0,k=r,T=[0,a?o(i-1,0):-1],M=0,O=!1;const R=((e,t,r)=>({i:t,o:r?d(r.slice(0,n(e,r.length)),o(0,e-r.length)):d([],e),u:e,l:-1,h:d([],e+1)}))(e,l?l[1]:t,l&&l[0]),q=new Set,J=()=>b-$,B=()=>J()+w+z,C=(e,t)=>((e,t,r,o)=>{if(o=n(o,e.u-1),v(e,o)<=t){const n=p(e,r,o);return[p(e,t,o,n),n]}{const n=p(e,t,void 0,o);return[n,p(e,r,n)]}})(R,e,t,T[0]),E=()=>v(R,R.u),H=(e,t)=>{const r=v(R,e)-w;return t?E()-r-L(e):r},L=e=>h(R,e),P=(e,t=-1)=>R.o[e]===t,W=e=>{e&&(x()&&0!==_||k&&1===I?w+=e:z+=e)};return{v:()=>{q.clear()},p:()=>f,m:()=>(e=>[e.o.slice(),e.i])(R),S:(e=200)=>{if(!O||a)return T;let t,r;if(y)[t,r]=T;else{let s=o(0,B()),i=s+S;u||(e=o(0,e),1!==_&&(s-=e),2!==_&&(i+=e)),[t,r]=T=C(o(0,s),o(0,i)),k&&(t=n(t,k[0]),r=o(r,k[1]))}return[o(t,0),n(r,R.u-1)]},$:e=>p(R,e-$),_:P,I:H,k:L,T:()=>R.u,M:()=>b,O:()=>0!==_,R:()=>S,q:()=>$,J:E,B:()=>(y=z,z=0,[y,2===I]),C:(e,t)=>{const r=[e,t];return q.add(r),()=>{q.delete(r)}},H:(e,t)=>{let n,i,l=0;switch(e){case 1:{if(t===b&&0===I)break;const e=y;y=0;const r=t-b,n=s(r);e&&n<s(e)+1||0!==I||(_=r<0?2:1),a&&(a=!1),b=t,l=4;const o=J();o>=-S&&o<=E()&&(l+=1,i=n>S);break}case 2:l=8,0!==_&&(n=!0,l+=1),_=0,I=0,k=r;break;case 3:{const e=t.filter((([e,t])=>!P(e,t)));if(!e.length)break;W(e.reduce(((e,[t,r])=>((2===I||(k&&1===I?t<k[0]:H(t+(0===_&&0===I?1:0))<J()))&&(e+=r-L(t)),e)),0));for(const[t,r]of e){const e=L(t),n=g(R,t,r);u&&(M+=n?r:r-e)}u&&S&&M>S&&(W(((e,t)=>{let r=0;const n=[];e.o.forEach(((e,o)=>{-1!==e&&(n.push(e),o<t&&r++)})),e.l=-1;const s=c(n),i=s.length,l=i/2|0,u=i%2==0?(s[l-1]+s[l])/2:s[l],a=e.i;return((e.i=u)-a)*o(t-r,0)})(R,p(R,B()))),u=!1),l=3,i=!0;break}case 4:S!==t&&(S||(O=i=!0),S=t,l=3);break;case 5:t[1]?(W(m(R,t[0],!0)),I=2,l=1):(m(R,t[0]),l=1);break;case 6:$=t;break;case 7:I=1;break;case 8:k=C(t,t+S),l=1}l&&(f=1+(2147483647&f),n&&w&&(z+=w,w=0),q.forEach((([e,t])=>{l&e&&t(i)})))}}},y=setTimeout,_=(e,t)=>t?-e:e,I=(e,t,n,o,s,i)=>{const l=Date.now;let c=0,u=!1,a=!1,f=!1,d=!1;const h=(()=>{let t;const n=()=>{t!=r&&clearTimeout(t)},o=()=>{n(),t=y((()=>{t=r,(()=>{if(u||a)return u=!1,void h();f=!1,e.H(2)})()}),150)};return o.L=n,o})(),g=()=>{c=l(),f&&(d=!0),i&&e.H(6,i()),e.H(1,o()),h()},v=t=>{if(u||!e.O()||t.ctrlKey)return;const r=l()-c;150>r&&50<r&&(n?t.deltaX:t.deltaY)&&(u=!0)},p=()=>{a=!0,f=d=!1},m=()=>{a=!1,x()&&(f=!0)};return t.addEventListener("scroll",g),t.addEventListener("wheel",v,{passive:!0}),t.addEventListener("touchstart",p,{passive:!0}),t.addEventListener("touchend",m,{passive:!0}),{P:()=>{t.removeEventListener("scroll",g),t.removeEventListener("wheel",v),t.removeEventListener("touchstart",p),t.removeEventListener("touchend",m),h.L()},W:()=>{const[t,r]=e.B();t&&(s(t,r,d),d=!1,r&&e.R()>e.J()&&e.H(1,o()))}}},k=(e,t,r)=>{let n;return[async(o,s)=>{if(!await t())return;n&&n();const i=()=>{const[t,r]=a();return n=()=>{r(!1)},e.R()&&y(n,150),[t,e.C(2,(()=>{r(!0)}))]};if(s&&z())e.H(8,o()),u((async()=>{for(;;){let t=!0;for(let[r,n]=e.S();r<=n;r++)if(e._(r)){t=!1;break}if(t)break;const[r,n]=i();try{if(!await r)return}finally{n()}}e.H(7),r(o(),s)}));else for(;;){const[t,n]=i();try{if(e.H(7),r(o()),!await t)return}finally{n()}}},()=>{n&&n()}]},T=e=>{let t;return{j(r){(t||(t=new(b($(r)).ResizeObserver)(e))).observe(r)},N(e){t.unobserve(e)},P(){t&&t.disconnect()}}},M=r=>{let n;r=t.mergeProps({V:"div"},r),t.createEffect((()=>{n&&t.onCleanup(r.X(n,r.Y))}));const o=t.createMemo((()=>{const e=r.D,t={contain:"layout style",position:"absolute",[e?"height":"width"]:"100%",[e?"top":"left"]:"0px",[e?"left":"top"]:r.U+"px",visibility:r.A?"hidden":void 0};return e&&(t.display="inline-flex"),t}));return e.createComponent(e.Dynamic,{get component(){return r.V},get index(){return r.Y},ref(e){"function"==typeof n?n(e):n=e},get style(){return o()},get children(){return r.F}})},O=(e,t)=>e[0]===t[0]&&e[1]===t[1],R=n=>{let s;const{itemSize:i,horizontal:u=!1,cache:f}=n;n=t.mergeProps({as:"div"},n);const d=w(n.data.length,i,void 0,f,!i),h=((e,t)=>{let n;const o=t?"width":"height",s=new WeakMap,i=T((t=>{const i=[];for(const{target:l,contentRect:c}of t)if(l.offsetParent)if(l===n)e.H(4,c[o]);else{const e=s.get(l);e!=r&&i.push([e,c[o]])}i.length&&e.H(3,i)}));return{G(e){i.j(n=e)},K:(e,t)=>(s.set(e,t),i.j(e),()=>{s.delete(e),i.N(e)}),v:i.P}})(d,u),g=((e,t)=>{let r,n,o=a(),s=!1;const i=t?"scrollLeft":"scrollTop",c=t?"overflowX":"overflowY",[u,f]=k(e,(()=>o[0]),((e,n)=>{e=_(e,s),n?r.scrollTo({[t?"left":"top"]:e,behavior:"smooth"}):r[i]=e}));return{Z(l){r=l,t&&(s="rtl"===getComputedStyle(l).direction),n=I(e,l,t,(()=>_(l[i],s)),((t,r,n)=>{if(n){const e=l.style,t=e[c];e[c]="hidden",y((()=>{e[c]=t}))}l[i]=_(e.M()+t,s),r&&f()})),o[1](!0)},v(){n&&n.P(),o[1](!1),o=a()},ee:()=>s,te(e){u((()=>e))},re(t){t+=e.M(),u((()=>t))},ne(t,{align:r,smooth:n,offset:o=0}={}){if(t=l(t,0,e.T()-1),"nearest"===r){const n=e.I(t),o=e.M();if(n<o)r="start";else{if(!(n+e.k(t)>o+e.R()))return;r="end"}}u((()=>o+e.q()+e.I(t)+("end"===r?e.k(t)-e.R():"center"===r?(e.k(t)-e.R())/2:0)),n)},oe:()=>{n&&n.W()}}})(d,u),[v,p]=t.createSignal(d.p());d.C(1,(()=>{p(d.p())})),d.C(4,(()=>{var e;null===(e=n.onScroll)||void 0===e||e.call(n,d.M())})),d.C(8,(()=>{var e;null===(e=n.onScrollEnd)||void 0===e||e.call(n)}));const m=t.createMemo((e=>{v();const t=d.S(n.bufferSize);return e&&O(e,t)?e:t})),S=t.createMemo((()=>v()&&d.O())),$=t.createMemo((()=>v()&&d.J())),b=t.createMemo((()=>v()&&g.ee()));t.onMount((()=>{n.ref&&n.ref({get cache(){return d.m()},get scrollOffset(){return d.M()},get scrollSize(){return(e=>o(e.J(),e.R()))(d)},get viewportSize(){return d.R()},findItemIndex:d.$,getItemOffset:d.I,getItemSize:d.k,scrollToIndex:g.ne,scrollTo:g.te,scrollBy:g.re});const e=n.scrollRef||s.parentElement;h.G(e),g.Z(e),t.onCleanup((()=>{n.ref&&n.ref(),d.v(),h.v(),g.v()}))})),t.createComputed(t.on((()=>n.startMargin||0),(e=>{e!==d.q()&&d.H(6,e)}))),t.createEffect(t.on(v,(()=>{g.oe()})));const x=t.createMemo((()=>{const e=n.data.length;t.untrack((()=>{e!==d.T()&&d.H(5,[e,n.shift])}));const r=!u&&b()?"unshift":"push",o=[],s=[];if(n.keepMounted){const e=new Set(n.keepMounted);for(let[t,r]=m();t<=r;t++)e.add(t);c([...e]).forEach((e=>{o[r](n.data[e]),s[r](e)}))}else for(let[e,t]=m();e<=t;e++)o[r](n.data[e]),s[r](e);return{se:o,ie:s}}));return e.createComponent(e.Dynamic,{get component(){return n.as},ref(e){"function"==typeof s?s(e):s=e},get style(){return{contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:u?$()+"px":"100%",height:u?"100%":$()+"px","pointer-events":S()?"none":void 0}},get children(){return e.createComponent(t.For,{get each(){return x().se},children:(r,o)=>((r,o)=>{const s=t.createMemo((()=>(v(),d.I(o(),b())))),i=t.createMemo((()=>(v(),d._(o())))),l=t.createMemo((()=>t.untrack((()=>n.children(r,o)))));return e.createComponent(M,{get V(){return n.item},get Y(){return o()},get X(){return h.K},get U(){return s()},get A(){return i()},get F(){return l()},D:u})})(r,t.createMemo((()=>x().ie[o()])))})}})};var q=/*#__PURE__*/e.template("<div>"),J=/*#__PURE__*/e.template("<div style=overflow-anchor:none>");exports.VList=r=>{const[n,o]=t.splitProps(r,["ref","data","children","bufferSize","itemSize","shift","horizontal","keepMounted","cache","item","onScroll","onScrollEnd","style"]);return s=q(),e.spread(s,e.mergeProps(o,{get style(){return{display:n.horizontal?"inline-block":"block",[n.horizontal?"overflow-x":"overflow-y"]:"auto",contain:"strict",width:"100%",height:"100%",...n.style}}}),!1,!0),e.insert(s,e.createComponent(R,{ref(e){var t=n.ref;"function"==typeof t?t(e):n.ref=e},get data(){return n.data},get bufferSize(){return n.bufferSize},get itemSize(){return n.itemSize},get shift(){return n.shift},get horizontal(){return n.horizontal},get keepMounted(){return n.keepMounted},get cache(){return n.cache},get item(){return n.item},get onScroll(){return n.onScroll},get onScrollEnd(){return n.onScrollEnd},get children(){return n.children}})),s;var s},exports.Virtualizer=R,exports.WindowVirtualizer=n=>{let o;const{ref:s,data:i,children:c,itemSize:f,shift:d,horizontal:h=!1,cache:g,onScrollEnd:v}=n,p=w(n.data.length,f,void 0,g,!f),m=((e,t)=>{const n=t?"width":"height",o=t?"innerWidth":"innerHeight",s=new WeakMap,i=T((t=>{const o=[];for(const{target:e,contentRect:i}of t){if(!e.offsetParent)continue;const t=s.get(e);t!=r&&o.push([t,i[n]])}o.length&&e.H(3,o)}));let l;return{G(t){const r=b($(t)),n=()=>{e.H(4,r[o])};r.addEventListener("resize",n),u(n),l=()=>{r.removeEventListener("resize",n)}},K:(e,t)=>(s.set(e,t),i.j(e),()=>{s.delete(e),i.N(e)}),v(){l&&l(),i.P()}}})(p,h),x=((e,t)=>{let r,n,o=a(),s=!1;const i=t?"left":"top",[c]=k(e,(()=>o[0]),((e,t)=>{e=_(e,s);const n=b($(r));t?n.scroll({[i]:e,behavior:"smooth"}):n.scroll({[i]:e})})),u=(e,t,r,n,o=0)=>{const i=n?"offsetLeft":"offsetTop",l=o+(n&&s?r.innerWidth-e[i]-e.offsetWidth:e[i]),c=e.offsetParent;return e!==t&&c?u(c,t,r,n,l):l};return{Z(l){r=l;const c=t?"scrollX":"scrollY",a=$(l),f=b(a);t&&(s="rtl"===getComputedStyle(S(a)).direction),n=I(e,f,t,(()=>_(f[c],s)),((t,r)=>{r?f.scroll({[i]:_(e.M()+t,s)}):f.scrollBy({[i]:_(t,s)})}),(()=>u(l,a.body,f,t))),o[1](!0)},v(){n&&n.P(),r=void 0,o[1](!1),o=a()},ee:()=>s,oe:()=>{n&&n.W()},ne(n,{align:o,smooth:s,offset:i=0}={}){if(!r)return;if(n=l(n,0,e.T()-1),"nearest"===o){const t=e.I(n),r=e.M();if(t<r)o="start";else{if(!(t+e.k(n)>r+e.R()))return;o="end"}}const a=$(r),f=b(a),d=S(a),h=()=>e.R()-(t?d.clientWidth:d.clientHeight);c((()=>i+u(r,a.body,f,t)+e.I(n)+("end"===o?e.k(n)-(e.R()-h()):"center"===o?(e.k(n)-(e.R()-h()))/2:0)),s)}}})(p,h),[z,y]=t.createSignal(p.p());p.C(1,(()=>{y(p.p())})),p.C(4,(()=>{var e;null===(e=n.onScroll)||void 0===e||e.call(n)})),p.C(8,(()=>{var e;null===(e=n.onScrollEnd)||void 0===e||e.call(n)}));const R=t.createMemo((e=>{z();const t=p.S(n.bufferSize);return e&&O(e,t)?e:t})),q=t.createMemo((()=>z()&&p.O())),B=t.createMemo((()=>z()&&p.J())),C=t.createMemo((()=>z()&&x.ee()));t.onMount((()=>{n.ref&&n.ref({get cache(){return p.m()},get scrollOffset(){return p.M()},get viewportSize(){return p.R()},findItemIndex:p.$,getItemOffset:p.I,getItemSize:p.k,scrollToIndex:x.ne}),m.G(o),x.Z(o),t.onCleanup((()=>{n.ref&&n.ref(),p.v(),m.v(),x.v()}))})),t.createEffect(t.on(z,(()=>{x.oe()})));const E=t.createMemo((()=>{const e=n.data.length;t.untrack((()=>{e!==p.T()&&p.H(5,[e,n.shift])}));const r=!h&&C()?"unshift":"push",o=[];for(let[e,t]=R();e<=t;e++)o[r](n.data[e]);return o}));return H=J(),"function"==typeof(L=o)?e.use(L,H):o=H,e.setStyleProperty(H,"contain","size style"),e.setStyleProperty(H,"flex","none"),e.setStyleProperty(H,"position","relative"),e.insert(H,e.createComponent(t.For,{get each(){return E()},children:(r,o)=>{const s=t.createMemo((()=>R()[0]+o())),i=t.createMemo((()=>(z(),p.I(s(),C())))),l=t.createMemo((()=>(z(),p._(s())))),c=t.createMemo((()=>t.untrack((()=>n.children(r,s)))));return e.createComponent(M,{get Y(){return s()},get X(){return m.K},get U(){return i()},get A(){return l()},get F(){return c()},D:h})}})),e.effect((t=>{var r=h?B()+"px":"100%",n=h?"100%":B()+"px",o=q()?"none":void 0;return r!==t.e&&e.setStyleProperty(H,"width",t.e=r),n!==t.t&&e.setStyleProperty(H,"height",t.t=n),o!==t.a&&e.setStyleProperty(H,"pointer-events",t.a=o),t}),{e:void 0,t:void 0,a:void 0}),H;var H,L};
//# sourceMappingURL=index.cjs.map
